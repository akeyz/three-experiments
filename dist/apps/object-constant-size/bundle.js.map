{"version":3,"sources":["webpack:///webpack/bootstrap e506698035f11f3deffa?a72a*****","webpack:///./src/apps/object-constant-size/index.js"],"names":["SCREEN_WIDTH","window","innerWidth","SCREEN_HEIGHT","innerHeight","VIEW_ANGLE","ASPECT","NEAR","FAR","scene","camera","renderer","axisHelper","gridHelper","boxGeometry","boxMaterial","boxMesh","planeGeometry","planeMaterial","planeMesh","controls","ambientLight","origin","THREE","Vector3","fov","Math","PI","BOX_SIZE","BOX_SCALE","PLANE_SIZE","PLANE_SCALE","init","Scene","GridHelper","add","AxisHelper","PerspectiveCamera","position","set","lookAt","BoxGeometry","MeshNormalMaterial","Mesh","PlaneGeometry","side","DoubleSide","AmbientLight","WebGLRenderer","antialias","setSize","OrbitControls","domElement","THREEx","WindowResize","document","body","appendChild","resetMeshSize","mesh","meshSize","meshScale","distance","distanceTo","frustrumRadius","tan","scale","update","rotation","x","y","animate","requestAnimationFrame","render"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;AACA;;AAEA,KAAMA,eAAeC,OAAOC,UAA5B;AACA,KAAMC,gBAAgBF,OAAOG,WAA7B;AACA,KAAMC,aAAa,EAAnB;AACA,KAAMC,SAASN,eAAeG,aAA9B;AACA,KAAMI,OAAO,CAAb;AACA,KAAMC,MAAM,KAAZ;;AAEA,KAAIC,cAAJ;AACA,KAAIC,eAAJ;AACA,KAAIC,iBAAJ;AACA,KAAIC,mBAAJ;AACA,KAAIC,mBAAJ;AACA,KAAIC,oBAAJ;AACA,KAAIC,oBAAJ;AACA,KAAIC,gBAAJ;AACA,KAAIC,sBAAJ;AACA,KAAIC,sBAAJ;AACA,KAAIC,kBAAJ;AACA,KAAIC,iBAAJ;AACA,KAAIC,qBAAJ;;AAEA,KAAMC,SAAS,IAAIC,MAAMC,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAf;AACA,KAAMC,MAAMpB,cAAcqB,KAAKC,EAAL,GAAU,GAAxB,CAAZ;;AAEA,KAAMC,WAAW,EAAjB;AACA,KAAMC,YAAY,IAAlB;;AAEA,KAAMC,aAAa,EAAnB;AACA,KAAMC,cAAc,GAApB;;AAEA,UAASC,IAAT,GAAgB;AACdvB,WAAQ,IAAIc,MAAMU,KAAV,EAAR;;AAEApB,gBAAa,IAAIU,MAAMW,UAAV,CAAqB,EAArB,EAAyB,EAAzB,CAAb;AACAzB,SAAM0B,GAAN,CAAUtB,UAAV;;AAEAD,gBAAa,IAAIW,MAAMa,UAAV,CAAqB,EAArB,CAAb;AACA3B,SAAM0B,GAAN,CAAUvB,UAAV;;AAEAF,YAAS,IAAIa,MAAMc,iBAAV,CAA4BhC,UAA5B,EAAwCC,MAAxC,EAAgDC,IAAhD,EAAsDC,GAAtD,CAAT;AACAE,UAAO4B,QAAP,CAAgBC,GAAhB,CAAoB,GAApB,EAAyB,GAAzB,EAA8B,GAA9B;AACA7B,UAAO8B,MAAP,CAAclB,MAAd;;AAEAR,iBAAc,IAAIS,MAAMkB,WAAV,CAAsBb,QAAtB,EAAgCA,QAAhC,EAA0CA,QAA1C,CAAd;AACAb,iBAAc,IAAIQ,MAAMmB,kBAAV,EAAd;AACA1B,aAAU,IAAIO,MAAMoB,IAAV,CAAe7B,WAAf,EAA4BC,WAA5B,CAAV;AACAN,SAAM0B,GAAN,CAAUnB,OAAV;;AAEAC,mBAAgB,IAAIM,MAAMqB,aAAV,CAAwBd,UAAxB,EAAoCA,UAApC,EAAgD,EAAhD,CAAhB;AACAZ,mBAAgB,IAAIK,MAAMmB,kBAAV,CAA6B,EAAEG,MAAMtB,MAAMuB,UAAd,EAA7B,CAAhB;AACA3B,eAAY,IAAII,MAAMoB,IAAV,CAAe1B,aAAf,EAA8BC,aAA9B,CAAZ;AACAC,aAAUmB,QAAV,CAAmBC,GAAnB,CAAuB,CAAC,EAAxB,EAA4B,CAA5B,EAA+B,CAAC,EAAhC;AACA9B,SAAM0B,GAAN,CAAUhB,SAAV;;AAEAE,kBAAe,IAAIE,MAAMwB,YAAV,CAAuB,QAAvB,CAAf;AACAtC,SAAM0B,GAAN,CAAUd,YAAV;;AAEAV,cAAW,IAAIY,MAAMyB,aAAV,CAAwB,EAAEC,WAAW,IAAb,EAAxB,CAAX;AACAtC,YAASuC,OAAT,CAAiBjD,OAAOC,UAAxB,EAAoCD,OAAOG,WAA3C;;AAEAgB,cAAW,IAAIG,MAAM4B,aAAV,CAAwBzC,MAAxB,EAAgCC,SAASyC,UAAzC,CAAX;;AAEAC,UAAOC,YAAP,CAAoB3C,QAApB,EAA8BD,MAA9B;;AAEA6C,YAASC,IAAT,CAAcC,WAAd,CAA0B9C,SAASyC,UAAnC;AACD;;AAED,UAASM,aAAT,CAAuBC,IAAvB,EAA6BC,QAA7B,EAAuCC,SAAvC,EAAkD;AAChD;AACA,OAAMC,WAAWpD,OAAO4B,QAAP,CAAgByB,UAAhB,CAA2BJ,KAAKrB,QAAhC,CAAjB;;AAEA;AACA,OAAM0B,iBAAiB,IAAItC,KAAKuC,GAAL,CAASxC,MAAM,CAAf,CAAJ,GAAwBqC,QAA/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAMI,QAASF,iBAAiBJ,QAAlB,GAA8BC,SAA5C;AACAF,QAAKO,KAAL,CAAW3B,GAAX,CAAe2B,KAAf,EAAsBA,KAAtB,EAA6BA,KAA7B;AACD;;AAED,UAASC,MAAT,GAAkB;AAChBhD,aAAUiD,QAAV,CAAmBC,CAAnB,IAAwB,KAAxB;AACAlD,aAAUiD,QAAV,CAAmBE,CAAnB,IAAwB,KAAxB;;AAEAZ,iBAAc1C,OAAd,EAAuBY,QAAvB,EAAiCC,SAAjC;AACA6B,iBAAcvC,SAAd,EAAyBW,UAAzB,EAAqCC,WAArC;;AAEAX,YAAS+C,MAAT;AACD;;AAED,UAASI,OAAT,GAAmB;AACjBC,yBAAsBD,OAAtB;AACAJ;AACAxD,YAAS8D,MAAT,CAAgBhE,KAAhB,EAAuBC,MAAvB;AACD;;AAEDsB;AACAuC,W","file":"dist/apps/object-constant-size/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e506698035f11f3deffa","// Reference:\n// http://stackoverflow.com/questions/15331358/three-js-get-object-size-with-respect-to-camera-and-object-position-on-screen\n\nconst SCREEN_WIDTH = window.innerWidth;\nconst SCREEN_HEIGHT = window.innerHeight;\nconst VIEW_ANGLE = 45;\nconst ASPECT = SCREEN_WIDTH / SCREEN_HEIGHT;\nconst NEAR = 1;\nconst FAR = 10000;\n\nlet scene;\nlet camera;\nlet renderer;\nlet axisHelper;\nlet gridHelper;\nlet boxGeometry;\nlet boxMaterial;\nlet boxMesh;\nlet planeGeometry;\nlet planeMaterial;\nlet planeMesh;\nlet controls;\nlet ambientLight;\n\nconst origin = new THREE.Vector3(0, 0, 0);\nconst fov = VIEW_ANGLE * (Math.PI / 180);\n\nconst BOX_SIZE = 20;\nconst BOX_SCALE = 0.25;\n\nconst PLANE_SIZE = 20;\nconst PLANE_SCALE = 0.2;\n\nfunction init() {\n  scene = new THREE.Scene();\n\n  gridHelper = new THREE.GridHelper(50, 10);\n  scene.add(gridHelper);\n\n  axisHelper = new THREE.AxisHelper(50);\n  scene.add(axisHelper);\n\n  camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT, NEAR, FAR);\n  camera.position.set(100, 100, 100);\n  camera.lookAt(origin);\n\n  boxGeometry = new THREE.BoxGeometry(BOX_SIZE, BOX_SIZE, BOX_SIZE);\n  boxMaterial = new THREE.MeshNormalMaterial();\n  boxMesh = new THREE.Mesh(boxGeometry, boxMaterial);\n  scene.add(boxMesh);\n\n  planeGeometry = new THREE.PlaneGeometry(PLANE_SIZE, PLANE_SIZE, 32);\n  planeMaterial = new THREE.MeshNormalMaterial({ side: THREE.DoubleSide });\n  planeMesh = new THREE.Mesh(planeGeometry, planeMaterial);\n  planeMesh.position.set(-50, 0, -50);\n  scene.add(planeMesh);\n\n  ambientLight = new THREE.AmbientLight(0x444444);\n  scene.add(ambientLight);\n\n  renderer = new THREE.WebGLRenderer({ antialias: true });\n  renderer.setSize(window.innerWidth, window.innerHeight);\n\n  controls = new THREE.OrbitControls(camera, renderer.domElement);\n\n  THREEx.WindowResize(renderer, camera);\n\n  document.body.appendChild(renderer.domElement);\n}\n\nfunction resetMeshSize(mesh, meshSize, meshScale) {\n  // Determine the distance of the camera to the object\n  const distance = camera.position.distanceTo(mesh.position);\n\n  // Calculate what the current frustrum radius/size.\n  const frustrumRadius = 2 * Math.tan(fov / 2) * distance;\n\n  // We want our object to remain the same size relative to the current\n  // frustrum size.\n  //\n  // For example:\n  //   Suppose frustrum size is 100, and object size is 20\n  //   then ratio (or scale) = 100 / 20 = 5.0\n  //\n  //   Suppose frustrum size changes to 200, and object size is 20\n  //   then ratio (or scale) = 200 / 20 = 10.0\n  //\n  // But this scale value alone will cause the object to fill\n  // the screen, so we need a scale value to get it back to a\n  // more useful size.\n  const scale = (frustrumRadius / meshSize) * meshScale;\n  mesh.scale.set(scale, scale, scale);\n}\n\nfunction update() {\n  planeMesh.rotation.x += 0.005;\n  planeMesh.rotation.y += 0.005;\n\n  resetMeshSize(boxMesh, BOX_SIZE, BOX_SCALE);\n  resetMeshSize(planeMesh, PLANE_SIZE, PLANE_SCALE);\n\n  controls.update();\n}\n\nfunction animate() {\n  requestAnimationFrame(animate);\n  update();\n  renderer.render(scene, camera);\n}\n\ninit();\nanimate();\n\n\n\n// WEBPACK FOOTER //\n// ./src/apps/object-constant-size/index.js"],"sourceRoot":""}